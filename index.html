<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∫–æ—Ç–µ–Ω—Ü–µ</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  font-family: 'Arial', sans-serif;
  overflow: hidden;
}

.container {
  position: relative;
  width: 500px;
  height: 500px;
}

.cat-area {
  position: absolute;
  top: 65%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 350px;
  height: 350px;
}

/* –ö–æ—Ç–µ—Ç–æ */
.cat {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 220px;
  height: 200px;
  cursor: pointer;
  transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* –¢—è–ª–æ */
.body {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 160px;
  height: 90px;
  background: linear-gradient(to bottom, #b08f6e 0%, #9c7d5f 100%);
  border-radius: 80px/45px;
  box-shadow: 
    inset 0 8px 15px rgba(0,0,0,0.1),
    0 4px 10px rgba(0,0,0,0.15);
  transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  z-index: 2;
}

.belly {
  position: absolute;
  top: 55%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 60px;
  background: linear-gradient(to bottom, #f0e6d8 0%, #e0c9b1 100%);
  border-radius: 60px/30px;
  transition: all 0.4s ease;
}

/* –ì–ª–∞–≤–∞ */
.head {
  position: absolute;
  top: 25%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 110px;
  height: 100px;
  background: linear-gradient(to bottom, #b08f6e 0%, #9c7d5f 100%);
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  z-index: 3;
}

/* –£—à–∏ */
.ear {
  position: absolute;
  width: 0;
  height: 0;
  border-left: 18px solid transparent;
  border-right: 18px solid transparent;
  border-bottom: 35px solid #8b7355;
  top: -20px;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.ear.left { left: 15px; transform: rotate(-10deg); }
.ear.right { right: 15px; transform: rotate(10deg); }

.ear::after {
  content: '';
  position: absolute;
  border-left: 13px solid transparent;
  border-right: 13px solid transparent;
  border-bottom: 25px solid #ffccbc;
  top: 5px;
  left: -13px;
}

/* –û–ß–ò */
.eye {
  position: absolute;
  top: 35px;
  width: 22px;
  height: 30px;
  background: #4a235a;
  border-radius: 50%;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.eye.left { left: 20px; }
.eye.right { right: 20px; }

.pupil {
  position: absolute;
  width: 14px;
  height: 14px;
  background: #000000;
  border-radius: 50%;
  top: 8px;
  left: 4px;
  transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.eye-sparkle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: linear-gradient(135deg, #ffffff, #e0e0e0);
  border-radius: 50%;
  top: 6px;
  left: 10px;
  opacity: 0.9;
  transition: all 0.3s ease;
}

.eye-sparkle.small {
  width: 3px;
  height: 3px;
  top: 12px;
  left: 16px;
  opacity: 0.6;
}

/* –ù–æ—Å */
.nose {
  position: absolute;
  top: 65px;
  left: 50%;
  transform: translateX(-50%);
  width: 18px;
  height: 14px;
  background: #ff8a80;
  border-radius: 50%;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* –ú—É—Å—Ç–∞—Ü–∏ */
.whisker {
  position: absolute;
  background: #5d4037;
  height: 1.5px;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.whisker.left { left: 0; }
.whisker.right { right: 0; }

.whisker-1 { top: 65px; width: 35px; }
.whisker-2 { top: 70px; width: 32px; }
.whisker-3 { top: 75px; width: 35px; }

/* –£—Å—Ç–∞ */
.mouth {
  position: absolute;
  top: 85px;
  left: 50%;
  transform: translateX(-50%);
  width: 2px;
  height: 15px;
  background: #5d4037;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* –õ–ê–ü–ò - –§–ò–ö–°–ò–†–ê–ù–ò –ü–û–ó–ò–¶–ò–ò */
.paw {
  position: absolute;
  width: 35px;
  height: 22px;
  background: linear-gradient(to bottom, #b08f6e 0%, #9c7d5f 100%);
  border-radius: 17px;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
  z-index: 1;
  /* –§–ò–ö–°–ò–†–ê–ù–ò –ü–û–ó–ò–¶–ò–ò - –ù–ï –°–ï –ò–ó–ß–ï–ó–í–ê–¢ */
  transform-origin: center bottom;
}

.paw:hover {
  transform: translateY(-5px) scale(1.1);
}

/* –ü—Ä–µ–¥–Ω–∏ –ª–∞–ø–∏ */
.paw.front.left { 
  left: 40px; 
  top: 120px;
}

.paw.front.right { 
  right: 40px; 
  top: 120px;
}

/* –ó–∞–¥–Ω–∏ –ª–∞–ø–∏ */
.paw.back.left { 
  left: 30px; 
  top: 130px;
}

.paw.back.right { 
  right: 30px; 
  top: 130px;
}

/* –ü–æ–¥—É—à–µ—á–∫–∏ */
.pad {
  position: absolute;
  width: 9px;
  height: 7px;
  background: #ffccbc;
  border-radius: 50%;
  bottom: 5px;
  transition: all 0.3s ease;
  transform-origin: center center;
}

.pad-1 { left: 6px; }
.pad-2 { left: 13px; }
.pad-3 { right: 6px; }
.pad-4 { right: 13px; }

/* –û–ü–ê–®–ö–ê */
.tail {
  position: absolute;
  width: 70px;
  height: 18px;
  background: linear-gradient(to bottom, #b08f6e 0%, #9c7d5f 100%);
  border-radius: 9px;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
  z-index: 1;
}

.tail {
  right: 20px;
  top: 110px;
  transform: rotate(160deg);
  transform-origin: left center;
}

.tail:hover {
  transform: rotate(140deg);
}

/* –ê–ù–ò–ú–ê–¶–ò–ò */
@keyframes breathe {
  0%, 100% { 
    transform: translate(-50%, -50%) scale(1); 
  }
  50% { 
    transform: translate(-50%, -50%) scale(1.03); 
  }
}

.body {
  animation: breathe 4s infinite ease-in-out;
}

@keyframes blink {
  0%, 85%, 100% { 
    height: 30px; 
    border-radius: 50%;
  }
  87%, 93% { 
    height: 6px; 
    border-radius: 50% 50% 30% 30%;
  }
}

.eye {
  animation: blink 6s infinite;
}

@keyframes tailMove {
  0%, 100% { 
    transform: rotate(160deg); 
  }
  33% { 
    transform: rotate(155deg); 
  }
  66% { 
    transform: rotate(165deg); 
  }
}

.tail {
  animation: tailMove 5s infinite ease-in-out;
}

@keyframes subtleFloat {
  0%, 100% { 
    transform: translate(-50%, -50%); 
  }
  50% { 
    transform: translate(-50%, -52%); 
  }
}

.cat {
  animation: subtleFloat 8s infinite ease-in-out;
}

/* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏ —Å—ä—Å—Ç–æ—è–Ω–∏—è */
.head:hover {
  transform: translate(-50%, -50%) scale(1.05) translateY(-2px);
}

.head.petted {
  transform: translate(-50%, -50%) scale(1.08) translateY(-3px);
  animation: headPurr 0.8s ease-in-out;
}

@keyframes headPurr {
  0%, 100% { transform: translate(-50%, -50%) scale(1.08) translateY(-3px); }
  25% { transform: translate(-50%, -50%) scale(1.08) translateY(-3px) translateX(-2px); }
  75% { transform: translate(-50%, -50%) scale(1.08) translateY(-3px) translateX(2px); }
}

.eye.closed {
  height: 6px !important;
  animation: none;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.eye.happy {
  height: 20px;
  border-radius: 20px 20px 10px 10px;
  background: #6c3483;
  transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.nose.booped {
  transform: translateX(-50%) scale(1.4);
  animation: noseBoop 0.5s ease;
}

@keyframes noseBoop {
  0% { transform: translateX(-50%) scale(1); }
  50% { transform: translateX(-50%) scale(1.6); }
  100% { transform: translateX(-50%) scale(1.4); }
}

.mouth.smiling {
  width: 20px;
  height: 2px;
  border-radius: 1px;
  background: #5d4037;
  animation: smileGrow 0.6s ease;
}

@keyframes smileGrow {
  0% { width: 2px; }
  100% { width: 20px; }
}

/* –ù–û–í–ê –ê–ù–ò–ú–ê–¶–ò–Ø –ó–ê –†–ê–ó–¢–Ø–ì–ê–ù–ï - –§–ò–ö–°–ò–†–ê–ù–ê */
.body.stretched {
  animation: stretchBody 1.5s ease forwards;
}

@keyframes stretchBody {
  0% {
    transform: translate(-50%, -50%) scaleY(1);
    height: 90px;
  }
  40% {
    transform: translate(-50%, -55%) scaleY(1.15);
    height: 100px;
  }
  70% {
    transform: translate(-50%, -60%) scaleY(1.2);
    height: 110px;
  }
  100% {
    transform: translate(-50%, -50%) scaleY(1);
    height: 90px;
  }
}

/* –ê–ù–ò–ú–ê–¶–ò–ò –ó–ê –õ–ê–ü–ò - –§–ò–ö–°–ò–†–ê–ù–ò */
.paw.stretching {
  animation: stretchPaw 1.5s ease forwards;
}

@keyframes stretchPaw {
  0% {
    transform: translateY(0) rotate(0deg);
  }
  40% {
    transform: translateY(-25px) rotate(-5deg);
  }
  70% {
    transform: translateY(-30px) rotate(-8deg);
  }
  100% {
    transform: translateY(0) rotate(0deg);
  }
}

/* –ü—Ä–µ–¥–Ω–∏ –ª–∞–ø–∏ - –ø–æ-—Å–∏–ª–Ω–æ —Ä–∞–∑—Ç—è–≥–∞–Ω–µ */
.paw.front.stretching {
  animation: stretchFrontPaw 1.5s ease forwards;
}

@keyframes stretchFrontPaw {
  0% {
    transform: translateY(0) rotate(0deg);
  }
  40% {
    transform: translateY(-35px) rotate(-8deg);
  }
  70% {
    transform: translateY(-40px) rotate(-10deg);
  }
  100% {
    transform: translateY(0) rotate(0deg);
  }
}

/* –ó–∞–¥–Ω–∏ –ª–∞–ø–∏ - –ø–æ-—Å–ª–∞–±–æ —Ä–∞–∑—Ç—è–≥–∞–Ω–µ */
.paw.back.stretching {
  animation: stretchBackPaw 1.5s ease forwards;
}

@keyframes stretchBackPaw {
  0% {
    transform: translateY(0) rotate(0deg);
  }
  40% {
    transform: translateY(-20px) rotate(5deg);
  }
  70% {
    transform: translateY(-25px) rotate(8deg);
  }
  100% {
    transform: translateY(0) rotate(0deg);
  }
}

.tail.wagging {
  animation: tailWag 0.8s infinite alternate ease-in-out;
}

@keyframes tailWag {
  0% { transform: rotate(140deg); }
  100% { transform: rotate(180deg); }
}

.ear.twitch {
  animation: earTwitch 0.4s ease;
}

@keyframes earTwitch {
  0%, 100% { transform: rotate(0); }
  33% { transform: rotate(12deg); }
  66% { transform: rotate(-8deg); }
}

/* –°–™–û–ë–©–ï–ù–ò–Ø - –ù–ê–ô-–ì–û–†–ï –ù–ê –°–¢–†–ê–ù–ò–¶–ê–¢–ê */
.message-box {
  position: fixed;
  top: 15px;
  left: 50%;
  transform: translateX(-50%) translateY(-20px);
  background: rgba(255, 255, 255, 0.98);
  padding: 20px 35px;
  border-radius: 35px;
  font-size: 22px;
  color: #5d4037;
  text-align: center;
  min-width: 300px;
  box-shadow: 0 12px 35px rgba(0,0,0,0.2);
  border: 3px solid #ffccbc;
  opacity: 0;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  pointer-events: none;
  z-index: 1000;
  font-weight: bold;
}

.message-box.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.message-box span {
  display: block;
  margin-top: 10px;
  font-size: 18px;
  color: #8b7355;
  font-style: italic;
  font-weight: normal;
}

/* Responsive */
@media (max-width: 550px) {
  .container {
    width: 350px;
    height: 450px;
  }
  
  .cat-area {
    width: 280px;
    height: 280px;
    top: 70%;
  }
  
  .cat {
    width: 180px;
    height: 160px;
  }
  
  .message-box {
    top: 10px;
    font-size: 20px;
    padding: 15px 25px;
    min-width: 260px;
    border-radius: 30px;
  }
  
  .message-box span {
    font-size: 16px;
    margin-top: 8px;
  }
  
  .tail {
    right: 15px;
    top: 95px;
  }
  
  .paw.front.left { left: 35px; top: 100px; }
  .paw.front.right { right: 35px; top: 100px; }
  .paw.back.left { left: 25px; top: 110px; }
  .paw.back.right { right: 25px; top: 110px; }
}
</style>
</head>
<body>

<!-- –°—ä–æ–±—â–µ–Ω–∏–µ –ù–ê–ô-–ì–û–†–ï –ù–ê –°–¢–†–ê–ù–ò–¶–ê–¢–ê -->
<div class="message-box" id="messageBox">
  –ö–æ—Ç–µ–Ω—Ü–µ üê±
  <span>–ö–ª–∏–∫–Ω–∏ –≤—ä—Ä—Ö—É –º–µ–Ω</span>
</div>

<div class="container">
  <div class="cat-area">
    <!-- –ö–æ—Ç–µ—Ç–æ –ü–û-–ù–ò–°–ö–û -->
    <div class="cat">
      <!-- –û–ü–ê–®–ö–ê -->
      <div class="tail" onclick="playWithTail()"></div>
      
      <!-- –¢—è–ª–æ -->
      <div class="body" onclick="stretchCat()">
        <div class="belly"></div>
      </div>
      
      <!-- –õ–ê–ü–ò - –§–ò–ö–°–ò–†–ê–ù–ò -->
      <div class="paw front left" onclick="stretchSinglePaw(this)">
        <div class="pad pad-1"></div>
        <div class="pad pad-2"></div>
        <div class="pad pad-3"></div>
        <div class="pad pad-4"></div>
      </div>
      <div class="paw front right" onclick="stretchSinglePaw(this)">
        <div class="pad pad-1"></div>
        <div class="pad pad-2"></div>
        <div class="pad pad-3"></div>
        <div class="pad pad-4"></div>
      </div>
      <div class="paw back left" onclick="stretchSinglePaw(this)">
        <div class="pad pad-1"></div>
        <div class="pad pad-2"></div>
        <div class="pad pad-3"></div>
        <div class="pad pad-4"></div>
      </div>
      <div class="paw back right" onclick="stretchSinglePaw(this)">
        <div class="pad pad-1"></div>
        <div class="pad pad-2"></div>
        <div class="pad pad-3"></div>
        <div class="pad pad-4"></div>
      </div>
      
      <!-- –ì–ª–∞–≤–∞ -->
      <div class="head" onclick="petHead()">
        <!-- –£—à–∏ -->
        <div class="ear left" onclick="twitchEar(this)"></div>
        <div class="ear right" onclick="twitchEar(this)"></div>
        
        <!-- –û–ß–ò -->
        <div class="eye left" onclick="blinkEyes()">
          <div class="pupil"></div>
          <div class="eye-sparkle"></div>
          <div class="eye-sparkle small"></div>
        </div>
        <div class="eye right" onclick="blinkEyes()">
          <div class="pupil"></div>
          <div class="eye-sparkle"></div>
          <div class="eye-sparkle small"></div>
        </div>
        
        <!-- –ù–æ—Å -->
        <div class="nose" onclick="boopNose()"></div>
        
        <!-- –ú—É—Å—Ç–∞—Ü–∏ -->
        <div class="whisker left whisker-1"></div>
        <div class="whisker left whisker-2"></div>
        <div class="whisker left whisker-3"></div>
        <div class="whisker right whisker-1"></div>
        <div class="whisker right whisker-2"></div>
        <div class="whisker right whisker-3"></div>
        
        <!-- –£—Å—Ç–∞ -->
        <div class="mouth"></div>
      </div>
    </div>
  </div>
</div>

<script>
// –†–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –∫—ä–º –µ–ª–µ–º–µ–Ω—Ç–∏
const head = document.querySelector('.head');
const body = document.querySelector('.body');
const tail = document.querySelector('.tail');
const nose = document.querySelector('.nose');
const mouth = document.querySelector('.mouth');
const eyes = document.querySelectorAll('.eye');
const ears = document.querySelectorAll('.ear');
const paws = document.querySelectorAll('.paw');
const messageBox = document.getElementById('messageBox');

// –ü—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∑–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
let isStretching = false;

// –°—ä–æ–±—â–µ–Ω–∏—è –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è
const messages = {
  head: [
    {text: "–ú—ä—Ä—Ä—Ä—Ä... üòä", sub: "–•–∞—Ä–µ—Å–≤–∞ –º–∏!"},
    {text: "–û–±–∏—á–∞–º –¥–∞ –º–µ –≥–∞–ª—è—Ç! ü•∞", sub: "–ü—Ä–æ–¥—ä–ª–∂–∞–≤–∞–π!"},
    {text: "–£—Ñ—Ñ, —Ç–æ–ª–∫–æ–≤–∞ –µ –ø—Ä–∏—è—Ç–Ω–æ! üòª", sub: "–ú—ä—Ä—Ä—Ä..."}
  ],
  nose: [
    {text: "–ë—É–ø! üëÉ", sub: "–ù–µ –º–µ –±—É—Ç–∞–π –ø–æ –Ω–æ—Å–∞!"},
    {text: "–ú—è—É! üê±", sub: "–¢–æ–∑–∏ –Ω–æ—Å –µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω"},
    {text: "–°–ø—Ä–∏! üòæ", sub: "–ù–µ —Ö–∞—Ä–µ—Å–≤–∞–º —Ç–æ–≤–∞"}
  ],
  paw: [
    {text: "–õ–∞–ø–∏—á–∫–∞! üêæ", sub: "–ò–º–∞—à —Ä–æ–∑–æ–≤–∏ –ø–æ–¥—É—à–µ—á–∫–∏"},
    {text: "–†–∞–∑—Ç—è–≥–∞–Ω–µ! üí™", sub: "–¢–æ–≤–∞ –º–∏ —Ç—Ä—è–±–≤–∞—à–µ"},
    {text: "–ú–µ–∫ –ª–∞–ø—á–µ! ‚ú®", sub: "–ú–Ω–æ–≥–æ –º–µ–∫–∏ —Å–∞"}
  ],
  tail: [
    {text: "–û–ø–∞—à–∫–∞! üåÄ", sub: "–õ—é–±–∏–º–∞—Ç–∞ –º–∏ –∏–≥—Ä–∞—á–∫–∞"},
    {text: "–í–∏–∂ –∫–∞–∫ –º–∞—Ö–∞–º! üêà", sub: "–•–≤–∞–Ω–∏ —è, –∞–∫–æ –º–æ–∂–µ—à!"},
    {text: "–ò–≥—Ä–∞—á–∫–∞! üéÆ", sub: "–û–ø–∞—à–∫–∞—Ç–∞ –º–∏ –µ –≥—ä–≤–∫–∞–≤–∞"}
  ],
  eye: [
    {text: "–ú–∏–≥! üëÅÔ∏è", sub: "–í–∏–∂–¥–∞–º —Ç–µ!"},
    {text: "–ö–æ–π —Ç–∞–º? üëÄ", sub: "–°–ª–µ–¥–∏–º —Å –æ—á–∏—á–∫–∏"},
    {text: "–ö–æ—Ç–µ—Ç–æ –≤–∏–∂–¥–∞ –≤—Å–∏—á–∫–æ! üï∂Ô∏è", sub: "–ò –≤ —Ç—ä–º–Ω–æ—Ç–æ!"}
  ],
  body: [
    {text: "–†–∞–∑—Ç—è–≥–∞–∞–∞–º —Å–µ! üôÜ", sub: "–¶—è–ª–æ—Ç–æ —Ç—è–ª–æ"},
    {text: "–ê–∞–∞—Ö, —Ç–æ–≤–∞ –µ! üòå", sub: "–ü–æ –¥—ä–ª–≥–æ, –º–æ–ª—è"},
    {text: "–ô–æ–≥–∞ –∑–∞ –∫–æ—Ç–∫–∏! üßò", sub: "–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–æ —Ä–∞–∑—Ç—è–≥–∞–Ω–µ"}
  ],
  ear: [
    {text: "–£—à–∫–æ! üëÇ", sub: "–ß—É–≤–∞–º –º–Ω–æ–≥–æ –¥–æ–±—Ä–µ"},
    {text: "–¢—Ä—ä–ø–∫–∞! ‚ö°", sub: "–£—à–∏—Ç–µ –º–∏ —Å–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏"},
    {text: "–ú—ä—Ä-–º—è—É! üéµ", sub: "–•–∞—Ä–µ—Å–≤–∞ –º–∏ —Ç–æ–≤–∞"}
  ]
};

// –ü—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –∑–∞ —Ç–µ–∫—É—â–æ —Å—ä–æ–±—â–µ–Ω–∏–µ
let currentMessageTimeout;

// –§—É–Ω–∫—Ü–∏—è –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ
function showMessage(type) {
  const msgList = messages[type];
  const randomMsg = msgList[Math.floor(Math.random() * msgList.length)];
  
  messageBox.innerHTML = `${randomMsg.text}<span>${randomMsg.sub}</span>`;
  messageBox.classList.add('show');
  
  // –°–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ —Å–ª–µ–¥ 3 —Å–µ–∫—É–Ω–¥–∏
  if (currentMessageTimeout) {
    clearTimeout(currentMessageTimeout);
  }
  
  currentMessageTimeout = setTimeout(() => {
    messageBox.classList.remove('show');
  }, 3000);
}

// –ü–æ–≥–∞–ª—è–≤–∞–Ω–µ –Ω–∞ –≥–ª–∞–≤–∞—Ç–∞
function petHead() {
  if (isStretching) return;
  
  head.classList.add('petted');
  
  // –ú–∏–≥–∞–Ω–µ –Ω–∞ –æ—á–∏—Ç–µ –æ—Ç —É–¥–æ–≤–æ–ª—Å—Ç–≤–∏–µ
  eyes.forEach(eye => {
    eye.classList.add('happy');
    eye.style.animation = 'none';
    setTimeout(() => {
      eye.classList.remove('happy');
      eye.style.animation = 'blink 6s infinite';
    }, 1200);
  });
  
  // –£—Å–º–∏–≤–∫–∞
  mouth.classList.add('smiling');
  setTimeout(() => mouth.classList.remove('smiling'), 1800);
  
  // –ü–ª–∞–≤–Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ –º—É—Å—Ç–∞—Ü–∏—Ç–µ
  const whiskers = document.querySelectorAll('.whisker');
  whiskers.forEach(w => {
    w.style.transform = 'translateX(-2px)';
    setTimeout(() => {
      w.style.transform = 'translateX(2px)';
      setTimeout(() => {
        w.style.transform = '';
      }, 300);
    }, 150);
  });
  
  showMessage('head');
  
  setTimeout(() => head.classList.remove('petted'), 1500);
}

// –ë—É—Ç–∞–Ω–µ –Ω–∞ –Ω–æ—Å–∞
function boopNose() {
  if (isStretching) return;
  
  nose.classList.add('booped');
  
  // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –æ—á–∏—Ç–µ
  eyes.forEach(eye => {
    eye.classList.add('closed');
    setTimeout(() => eye.classList.remove('closed'), 600);
  });
  
  // –õ–µ–∫–æ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–∞—Ç–∞ –Ω–∞–∑–∞–¥
  head.style.transform = 'translate(-50%, -50%) translateX(-5px)';
  setTimeout(() => {
    head.style.transform = 'translate(-50%, -50%)';
  }, 300);
  
  showMessage('nose');
  
  setTimeout(() => nose.classList.remove('booped'), 600);
}

// –†–∞–∑—Ç—è–≥–∞–Ω–µ –Ω–∞ –µ–¥–Ω–∞ –ª–∞–ø–∞ - –§–ò–ö–°–ò–†–ê–ù–ê
function stretchSinglePaw(paw) {
  if (isStretching) return;
  isStretching = true;
  
  // –û–ø—Ä–µ–¥–µ–ª—è–º–µ —Ç–∏–ø–∞ –Ω–∞ –ª–∞–ø–∞—Ç–∞
  const isFront = paw.classList.contains('front');
  const isBack = paw.classList.contains('back');
  
  // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ —Å—Ç–∞—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—ä—Ä–≤–æ
  paw.style.animation = 'none';
  void paw.offsetWidth; // –¢—Ä–∏–≥–µ—Ä –∑–∞ —Ä–µ—Ñ–ª–æ—É
  
  // –î–æ–±–∞–≤—è–º–µ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ –∞–Ω–∏–º–∞—Ü–∏—è
  if (isFront) {
    paw.classList.add('stretching', 'front');
    paw.style.animation = 'stretchFrontPaw 1.5s ease forwards';
  } else if (isBack) {
    paw.classList.add('stretching', 'back');
    paw.style.animation = 'stretchBackPaw 1.5s ease forwards';
  } else {
    paw.classList.add('stretching');
    paw.style.animation = 'stretchPaw 1.5s ease forwards';
  }
  
  // –ü–æ–¥—É—à–µ—á–∫–∏—Ç–µ —Å–µ —Ä–∞–∑—Ç—è–≥–∞—Ç
  const pads = paw.querySelectorAll('.pad');
  pads.forEach(pad => {
    pad.style.transform = 'scale(1.4)';
    setTimeout(() => {
      pad.style.transform = '';
    }, 1500);
  });
  
  showMessage('paw');
  
  // –°–ø–∏—Ä–∞–Ω–µ –Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è—Ç–∞ –∏ –≤—Ä—ä—â–∞–Ω–µ –≤ –Ω–æ—Ä–º–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
  setTimeout(() => {
    paw.style.animation = '';
    paw.classList.remove('stretching', 'front', 'back');
    isStretching = false;
  }, 1500);
}

// –ò–≥—Ä–∞ —Å –æ–ø–∞—à–∫–∞—Ç–∞
function playWithTail() {
  if (isStretching) return;
  
  tail.classList.add('wagging');
  
  // –õ–µ–∫–æ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ —Ç—è–ª–æ—Ç–æ
  body.style.transform = 'translate(-50%, -50%) rotate(2deg)';
  setTimeout(() => {
    body.style.transform = 'translate(-50%, -50%)';
  }, 800);
  
  showMessage('tail');
  
  setTimeout(() => tail.classList.remove('wagging'), 2500);
}

// –†–∞–∑—Ç—è–≥–∞–Ω–µ –Ω–∞ —Ü—è–ª–æ—Ç–æ —Ç—è–ª–æ - –§–ò–ö–°–ò–†–ê–ù–ê
function stretchCat() {
  if (isStretching) return;
  isStretching = true;
  
  // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ —Å—Ç–∞—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
  body.style.animation = 'none';
  void body.offsetWidth; // –¢—Ä–∏–≥–µ—Ä –∑–∞ —Ä–µ—Ñ–ª–æ—É
  
  // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞ —Ç—è–ª–æ—Ç–æ
  body.classList.add('stretched');
  body.style.animation = 'stretchBody 1.5s ease forwards';
  
  // –ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞ –≤—Å–∏—á–∫–∏ –ª–∞–ø–∏
  paws.forEach(paw => {
    const isFront = paw.classList.contains('front');
    const isBack = paw.classList.contains('back');
    
    // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ —Å—Ç–∞—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
    paw.style.animation = 'none';
    void paw.offsetWidth;
    
    // –î–æ–±–∞–≤—è–º–µ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ –∞–Ω–∏–º–∞—Ü–∏—è
    if (isFront) {
      paw.classList.add('stretching', 'front');
      paw.style.animation = 'stretchFrontPaw 1.5s ease forwards';
    } else if (isBack) {
      paw.classList.add('stretching', 'back');
      paw.style.animation = 'stretchBackPaw 1.5s ease forwards';
    } else {
      paw.classList.add('stretching');
      paw.style.animation = 'stretchPaw 1.5s ease forwards';
    }
    
    // –ü–æ–¥—É—à–µ—á–∫–∏—Ç–µ —Å–µ —Ä–∞–∑—Ç—è–≥–∞—Ç
    const pads = paw.querySelectorAll('.pad');
    pads.forEach(pad => {
      pad.style.transform = 'scale(1.5)';
      setTimeout(() => {
        pad.style.transform = '';
      }, 1500);
    });
  });
  
  // –ì–ª–∞–≤–∞—Ç–∞ —Å–µ –Ω–∞–∫–ª–∞–Ω—è –ª–µ–∫–æ
  head.style.transform = 'translate(-50%, -50%) rotate(-5deg)';
  setTimeout(() => {
    head.style.transform = 'translate(-50%, -50%)';
  }, 1500);
  
  // –ö–æ—Ä–µ–º—á–µ—Ç–æ —Å—ä—â–æ —Å–µ —Ä–∞–∑—Ç—è–≥–∞
  const belly = document.querySelector('.belly');
  belly.style.transform = 'translate(-50%, -50%) scaleY(1.2)';
  setTimeout(() => {
    belly.style.transform = 'translate(-50%, -50%)';
  }, 1500);
  
  showMessage('body');
  
  // –°–ø–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
  setTimeout(() => {
    body.style.animation = '';
    body.classList.remove('stretched');
    
    paws.forEach(paw => {
      paw.style.animation = '';
      paw.classList.remove('stretching', 'front', 'back');
    });
    
    isStretching = false;
  }, 1500);
}

// –ú–∏–≥–∞–Ω–µ –Ω–∞ –æ—á–∏—Ç–µ
function blinkEyes() {
  if (isStretching) return;
  
  eyes.forEach(eye => {
    eye.classList.add('closed');
    eye.style.animation = 'none';
    setTimeout(() => {
      eye.classList.remove('closed');
      eye.style.animation = 'blink 6s infinite';
    }, 400);
  });
  
  // –õ–µ–∫–æ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ —É—à–∏—Ç–µ
  ears.forEach(ear => {
    ear.style.transform = ear.classList.contains('left') ? 'rotate(-15deg)' : 'rotate(15deg)';
    setTimeout(() => {
      ear.style.transform = ear.classList.contains('left') ? 'rotate(-10deg)' : 'rotate(10deg)';
    }, 200);
  });
  
  showMessage('eye');
}

// –î—Ä—ä–ø–≤–∞–Ω–µ –Ω–∞ —É—Ö–æ—Ç–æ
function twitchEar(ear) {
  if (isStretching) return;
  
  ear.classList.add('twitch');
  
  // –î—Ä—É–≥–æ—Ç–æ —É—Ö–æ —Å—ä—â–æ —Ä–µ–∞–≥–∏—Ä–∞
  const otherEar = ear.classList.contains('left') ? 
    document.querySelector('.ear.right') : 
    document.querySelector('.ear.left');
  
  setTimeout(() => {
    otherEar.style.transform = otherEar.classList.contains('left') ? 'rotate(-5deg)' : 'rotate(5deg)';
    setTimeout(() => {
      otherEar.style.transform = otherEar.classList.contains('left') ? 'rotate(-10deg)' : 'rotate(10deg)';
    }, 200);
  }, 100);
  
  showMessage('ear');
  
  setTimeout(() => ear.classList.remove('twitch'), 400);
}

// –°–ª–µ–¥—è—â–∏ –æ—á–∏ - —Å–ª–µ–¥–≤–∞—Ç –º–∏—à–∫–∞—Ç–∞
document.addEventListener('mousemove', (e) => {
  const catRect = document.querySelector('.cat-area').getBoundingClientRect();
  const catCenterX = catRect.left + catRect.width / 2;
  const catCenterY = catRect.top + catRect.height / 2.5;
  
  const mouseX = e.clientX;
  const mouseY = e.clientY;
  
  const deltaX = mouseX - catCenterX;
  const deltaY = mouseY - catCenterY;
  
  // –ü–ª–∞–≤–Ω–æ —Å–ª–µ–¥–µ–Ω–µ
  const maxMove = 5;
  const moveX = Math.max(-maxMove, Math.min(maxMove, deltaX / 40));
  const moveY = Math.max(-maxMove, Math.min(maxMove, deltaY / 40));
  
  const pupils = document.querySelectorAll('.pupil');
  pupils.forEach(pupil => {
    const isLeft = pupil.parentElement.classList.contains('left');
    pupil.style.left = `${isLeft ? 4 + moveX : 4 - moveX}px`;
    pupil.style.top = `${8 + moveY}px`;
  });
  
  // –û—Ç–±–ª—è—Å—ä—Ü–∏—Ç–µ —Å—ä—â–æ —Å–µ –¥–≤–∏–∂–∞—Ç
  const sparkles = document.querySelectorAll('.eye-sparkle');
  sparkles.forEach(sparkle => {
    const isSmall = sparkle.classList.contains('small');
    sparkle.style.left = isSmall ? `${16 + moveX/4}px` : `${10 + moveX/3}px`;
    sparkle.style.top = isSmall ? `${12 + moveY/4}px` : `${6 + moveY/3}px`;
  });
});

// –†–∞–Ω–¥–æ–º —Ä–µ–∞–∫—Ü–∏–∏ - –∫–æ—Ç–µ—Ç–æ –ø—Ä–∞–≤–∏ –Ω–µ—â–æ —Å–∞–º–æ
setInterval(() => {
  if (isStretching) return;
  
  if (Math.random() > 0.7) {
    const actions = [
      () => {
        // –ú–µ–∫ –º–∏–≥
        eyes.forEach(eye => {
          eye.style.animation = 'none';
          setTimeout(() => {
            eye.style.height = '10px';
            setTimeout(() => {
              eye.style.height = '30px';
              eye.style.animation = 'blink 6s infinite';
            }, 200);
          }, 50);
        });
      },
      () => {
        // –õ–µ–∫–æ —Ä–∞–∑–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –æ–ø–∞—à–∫–∞—Ç–∞
        tail.style.animation = 'none';
        setTimeout(() => {
          tail.style.transform = 'rotate(150deg)';
          setTimeout(() => {
            tail.style.transform = 'rotate(160deg)';
            tail.style.animation = 'tailMove 5s infinite ease-in-out';
          }, 300);
        }, 50);
      },
      () => {
        // –õ–µ–∫–æ —É—à–∫–æ
        const randomEar = ears[Math.floor(Math.random() * ears.length)];
        randomEar.style.transform = randomEar.classList.contains('left') ? 
          'rotate(-5deg)' : 'rotate(5deg)';
        setTimeout(() => {
          randomEar.style.transform = randomEar.classList.contains('left') ? 
            'rotate(-10deg)' : 'rotate(10deg)';
        }, 300);
      }
    ];
    
    actions[Math.floor(Math.random() * actions.length)]();
  }
}, 10000);

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
setTimeout(() => {
  showMessage('head');
  // –õ–µ–∫–æ —Ä–∞–∑–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –æ–ø–∞—à–∫–∞—Ç–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
  setTimeout(() => {
    tail.classList.add('wagging');
    setTimeout(() => tail.classList.remove('wagging'), 1500);
  }, 500);
}, 1000);
</script>

</body>
</html>
